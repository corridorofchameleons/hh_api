# HH CONNECTOR

Приложение позволяет получать информацию о вакансиях с платформы hh.ru в России, сохранять ее в файл и позволять удобно работать с ней: добавлять, фильтровать, удалять

## Начало работы

Чтобы начать работать с приложением, необходимо исполнить __main.py__.<br /> 
Далее следуйте инструкциям.

## Как это устроено

### Класс HeadHunter()

Имеет единственный атрибут __url__, по умолчанию - 'https://api.hh.ru/vacancies'<br />
Имеет методы для запросов: __get(), post(), put(), delete()__.<br />
На данный момент реализован только __get()__.

Создаем экземпляр класса:
```commandline
hh = HeadHunter()
```

Для получения списка вакансий необходимо вызвать метод
```commandline
vacancies = hh.get()
more_vacancies = hh.get(area=1, salary=50000)
```
В качестве именованных параметров можно передать:

text=python   # поиск по ключевым словам<br />
salary=100000 # уровень зарплаты<br />
area=1        # город Москва<br />
подробнее - в руководстве

Метод возвращает список экземпляров класса Vacancy.

### Класс Vacancy()

Имеет атрибуты 
```commandline
    name: str
    town: str
    salary: int
    description: str
    requirements: str
```
__Создаем вакансию__<br />

Способ 1:
```commandline
vacancy = Vacancy('name', 'town', 50000, 'desc', 'req')
```
Способ 2:
```commandline
vacancy = Vacancy.create('name', 'town', 50000, 'desc', 'req')
```

### Класс JsonManager()

Наследуется от абстрактного класса __JSONABC()__, определяющего интерфейс для работы с базами данных.<br />
Класс JsonManager() в качестве БД использует json файл, путь к которому хранится в единственном атрибуте - file.<br />
<br />
__Методы класса:__

Для записи вакансий в файл необходимо использовать метод __insert()__:
```commandline
j_man = JsonManager()
j_man.insert(vacancies) 
# принимает как экземпляр класса Vacancy, так и их список
```

Фильтр вакансий - метод __select()__:
```commandline
vacancies = j_man.select(salary=70000)
```
Доступные параметры: __name, town, salary, description, requirements__.<br />
__salary__ должен иметь тип __int__ или __float__; он фильтрует вакансии таким образом, чтобы уровень зарплаты был не ниже желаемого.<br />
Использование других аргументов не повлияет на фильтрацию.


Обновление и удаление вакансий: __update()__, __delete()__
```commandline
j_man.update('name', salary=150000) # обновит зарплату в вакансии 'name' 
j_man.delete('name')                # удалит вакансию 'name'
```
Чтобы полностью очистить файл, необходимо передать аргумент __'all'__:
```commandline
j_man.delete('all')
```

Получение наиболее выгодных предложений при помощи __top_salary()__:
```commandline
vacancies = j_man.top_salary(3) # Получим топ 3
```
Необязательный аргумент num ограничивает количество вакансий. По умолчанию - неограниченно. 

